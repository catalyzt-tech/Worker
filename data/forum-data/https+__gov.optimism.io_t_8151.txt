{
  "title": "Superchain and the Monolithic Experience - A cross-chain guide for Superchain",
  "content": "Hey Optimism Collective, I’m Sandman, a researcher associated with Delphi\nDigital who worked on the cross-chain report for Superchain.\n\nFor context, here’s the RFG for the Cross-Chain Interoperability research\n(RFG-8): Link [https://app.charmverse.io/op-grants/page-012176298170861077]\nHere’s Delphi’s proposal: Link\n[https://app.charmverse.io/op-grants/page-6494402652772964]\n\nAnd here’s the full report we worked on: Link\n[https://sunrise-innocent-166.notion.site/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=74]\n\nIn a nutshell\nTo start with, we go into some important concepts in the cross-chain context to\nhelp understand the whole report better. We define Token Bridges, Messaging\nBridges and the rest of the components in the interoperability stack as we will\nbe discussing which parts of the stack Optimism should focus on and why.\n\nWe then dive into various stakeholders like Users, dApp Builders and Chain\nBuilders, and what are their preferences are when it comes to interoperability.\nFor example,\n\n 1. Users care about user experience, costs of interoperability and the security\n    of the tokens they are holding\n 2. Whereas dApp Builders care about interop standards, composability and\n    abstraction of permissions, etc.\n 3. And Chain Builders care about the sovereignty, MEV extraction (or\n    prevention) and reorg dependencies, etc.\n    Optimism needs to satisfy each of these stakeholders before making major\n    changes to the Superchain stack.\n\nThen we look at how other ecosystems similar to Superchain have approached the\ninterop problem and how they are planning to. We also compare how these\nsolutions affect each of their stakeholders (users, dapp builders, and chain\nbuilders).\n\nWe believe shared sequencing is a powerful solution that can solve many of our\nproblems. The next evolution of shared sequencing, which is based sequencing, is\nthe best solution to the Ethereum interop problem. We believe this decision is\nan important one that should be made with a lot of discussions.\n\nThe Main Part\nWe later make suggestions on the directions Superchain should take. There are\nmany directions Superchain can choose to go into. Every option we list trades\noff one factor for another.\n1. No Changes to the Base Layer\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nWe explore what it would look like to let the market figure it out for\nthemselves. Interop will be solved one way or the other. Superchain may choose\nto solve it or let new teams pop up to solve it. Chain builders benefit here the\nmost as they get to retain their sovereignty. We do not recommend this, for the\nsake of our industry.\n2. Asynchronous Composability\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nIn this approach, Superchain chooses to offer trustless interop between chains\nthus solving interop to a very good extent, but does not offer the complete\nsolution. This may limit what dApp Developers can build on Superchain.\n3. Shared Validity Sequencing\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nThis seems to be the approach Optimism is taking right now\n[https://specs.optimism.io/interop/overview.html]. Although a great approach, we\nbelieve it trades off permissionless interop with all the old and new OP Stack\nchains. Chains will have to be super vary about who they interop with as there\ncan be frequent rollbacks via fraud proofs.\n4. zk-Aggregation Layer\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nIf OP Stack chooses to turn into a zk-rollup, this solutions seems to be the\nbest option available. The main tradeoff is giving up the benefits of Optimistic\nrollups. On the other side, it is possible to achieve secure atomic execution\nnatively across all of the aggregated chains.\n5. Shared Sequencer Networks\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nA shared sequencing network solution built to offer interoperability as a\nfeature. The chain builders lose part of their sovereignty if they opt in. But\ngain interop and decentralization.\n6. Based Sequencing\n[https://www.notion.so/Superchain-and-the-Monolithic-Experience-cc499f712c8648cd852b0b5393db2b51?pvs=21]:\nBased Sequencing is about interop with the L1. We believe this should be the\nultimate goal for rollups. With this approach, Ethereum can work as a monolithic\nchain while retaining the benefits of the fragmented rollups.\n\nFinally, we roughly gauge the amount of effort required by various stakeholders\nto offer the monolithic experience to their stakeholders.\n\nThis TLDR version just scratches the surface. Please go through the entire\nreport, ask questions and voice your opinions in the thread below. Thank you.\n\nAnd I thank Mark Murdock [https://twitter.com/mark_murdock3], Can Gurel\n[https://twitter.com/CannnGurel], Ceteris [https://twitter.com/ceterispar1bus],\nFacundo [https://twitter.com/quienesfacundo] and the rest of the Delphi Team for\ncomments and feedback.",
  "views": 569,
  "like_count": 12,
  "word_count": 1756,
  "answer": [
    {
      "content": "Really appreciate your report here. Just finished reading the entire thing.\n\nStill need to do a more background research and process my thoughts but you\nincreased my understanding of shared sequencing & the tradeoffs of potential\nsolutions by a lot!",
      "created_at": "2024-05-27T02:45:28.816Z",
      "trust_level": 3,
      "username": "Michael",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 1
    },
    {
      "content": "hey @sandman [/u/sandman] very interesting\n\ncan you elaborate on the differences between shared validity sequencing and\nshared sequencer networks?\n\nis one of them the fact that the former is stateful while the latter is\nstateless? curious to learn more!\n\n\n[https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n\n> If OP Stack chooses to turn into a zk-rollup, this solutions seems to be the\n> best option available.\n\nany thoughts on the feasibility/complexity of this? i guess this would not be\ntrivial…\n\n\n[https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n\n> This may limit what dApp Developers can build on Superchain.\n\ncan you elaborate which type of dapps would be limited? feel like for most apps\nsynchronous composability isn’t crucial since you can create user interfaces\nthat are asynchronous and yet still appear and works as if they are synchronous\n- what do you think?\n\n\n[https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n\n> The next evolution of shared sequencing, which is based sequencing, is the\n> best solution to the Ethereum interop problem.\n\nhow would based sequencing/composability look like if there are both optimistic\nand validity rollups opting into Ethereum as a shared sequencer? (or are you\nassuming a world with essentially validity based rollups?)",
      "created_at": "2024-05-28T07:46:31.596Z",
      "trust_level": 2,
      "username": "sam.ng",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 1
    },
    {
      "content": "I’m glad it was helpful to you.\nYou can hit me up on Twitter if you have any specific questions. Just sent a DM\nto say hi. :slight_smile:\n[https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12]",
      "created_at": "2024-05-27T22:11:00.858Z",
      "trust_level": 1,
      "username": "sandman",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 1
    },
    {
      "content": "\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/sam.ng/48/7933_2.png]\nsam.ng:\n\n> can you elaborate on the differences between shared validity sequencing and\n> shared sequencer networks?\n\nSure.\n\n\n1. EXECUTION:\n\nShared validity sequencing design by Umbra expects a sequencer of a rollup to\nrun full nodes of all other rollups to watch for cross-chain messages and\nexecute them on their rollup. Of course, block buidlers can do this instead. So\nthis design can offer execution assurances to the users.\nShared sequencing networks design by Espresso/Astria does not offer execution\nassurances, but can offer inclusion assurances (by filtering transactions using\nSTFs, read more here\n[https://hackmd.io/@EspressoSystems/the-derivation-pipeline#Atomicity-Through-the-Pipeline]).\nExecution is done by full nodes. This allows for this design to be\ndecentralized.\n\n\n2. VERIFICATION:\n\nShared validity sequencing relies on fraud proofs for verification. If there is\na malicious cross-chain transaction, the states of both rollups are rolled back.\nShared sequencing networks relies on filtering invalid inclusion of cross-chain\ntransactions submitted through a shared bundle. This means, it’s\ncryptographically not possible to modify transactions in a bundle or include\ninvalid ones as a bundle is signed together by the user. This does not rely on\nfraud proofs for verification.\n\n\n3. DEPENDENCIES:\n\nShared validity sequencing makes it more risky for rollups to choose to interop\nwith any rollup out there as there are frequent rollback risks involved here.\nShared sequencing networks do not have such significant risks as they often do\nnot have to rollback. Thus allowing a larger number of rollups to interop with\neach other.\n\n\n4. DECENTRALIZATION:\n\nIt is harder for Shared validity sequencing to be decentralized than Shared\nsequencing networks.\n\n\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/sam.ng/48/7933_2.png]\nsam.ng:\n> [https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n> \n> > If OP Stack chooses to turn into a zk-rollup, this solutions seems to be the\n> > best option available.\n> \n> any thoughts on the feasibility/complexity of this? i guess this would not be\n> trivial…\n\nThis discussion has been going on for a while. Even Vitalik has mentioned\nseveral times that in the long term most rollups will be zk rollups. I have not\nlooked into the complexity of this switch, but I think it is not out of the\npicture.\n\n\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/sam.ng/48/7933_2.png]\nsam.ng:\n> [https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n> \n> > This may limit what dApp Developers can build on Superchain.\n> \n> can you elaborate which type of dapps would be limited? feel like for most\n> apps synchronous composability isn’t crucial since you can create user\n> interfaces that are asynchronous and yet still appear and works as if they are\n> synchronous - what do you think?\n\nThe 2 main kinds of dApps are the ones that require Flashloans and the ones that\nrequire CoWs.\nFlashloans require you to repay a loan in the same atomic bundle, hence\ncross-chain flashloans are impossible in an asynchronous environment.\nCoWSwap is not possible across chains because it’s not possible to settle\nbi-directional intents at once.\n\n\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/sam.ng/48/7933_2.png]\nsam.ng:\n> [https://avatars.discourse-cdn.com/v4/letter/s/ebca7d/48.png] sandman:\n> \n> > The next evolution of shared sequencing, which is based sequencing, is the\n> > best solution to the Ethereum interop problem.\n> \n> how would based sequencing/composability look like if there are both\n> optimistic and validity rollups opting into Ethereum as a shared sequencer?\n> (or are you assuming a world with essentially validity based rollups?)\n\nBased sequencing vision by Justin Drake and the Espresso guys involves opt-in\ninteroperability. I believe it is possible for ORUs and ZKRUs to interoperate\nwith each other as they work the same way until their state transitions are\nposted on L1. This system should work similar to shared sequencer networks,\nwhere an atomic bundle is guaranteed to be included into two rollups in their\ncorresponding blocks. I have not thought too deeply about how AggLayer can work\nwith Based Sequencing. There is new research in this area called Pessimistic\nProofs [https://x.com/0xPolygon/status/1795504524427165910], I still have to\nlook into this.\n\nThanks for the questions. Feel free to ask follow up questions and point out any\nissues with the report :).",
      "created_at": "2024-05-29T16:29:27.275Z",
      "trust_level": 1,
      "username": "sandman",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 1
    }
  ],
  "created_at": "2024-05-15T16:08:02.395Z"
}