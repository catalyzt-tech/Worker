{
  "title": "Retrospective Funding Analysis: Uniswap V3 Liquidity Incentives",
  "content": "CONTEXT\n\nInspired by @jackanorak [/u/jackanorak]’s work on Where Has the OP Gone?\n[https://gov.optimism.io/t/op-grants-through-season-2-where-has-the-op-gone/4025],\nwe (Messari [https://messari.io/dashboard]) would like to pick this initiative\nback up and provide a retrospective analysis to the community on projects\nfunded! We aim to provide an objective, data-driven third-party report on the\nfunded projects and their distribution methods. In doing so, we hope the\ncommunity finds a reliable reference point in these reports and can utilize them\nfor future iterations/experiments within the Collective.\n\nWe initially began analyzing on the project level using the open-sourced data\nprovided by OP Labs\n[https://gov.optimism.io/t/how-to-contribute-op-rewards-analytics/5975] (h/t\n@msilb7 [/u/msilb7] @chuxin_h [/u/chuxin_h] & the OP Labs team!). However, after\nbeginning, we discovered that each project in a given incentive category (E.g.,\nUniswap V3 Liquidity Mining, trading rewards, etc.) would need to be analyzed to\nprovide a relevant benchmark analysis. This new direction proved challenging as\nvarious funded projects and their respective programs are only partially in sync\n(if at all). That being said, we intend for this analysis to act as a V1 and\nencourage the community to participate in discussing the parts they find\nvaluable.\n\n\nMAIN TAKEAWAYS\n\n * The retrospective analysis of grants funded by the Optimism Collective is\n   crucial for understanding the effectiveness of funded projects and providing\n   insights for future projects.\n * Total Value Locked (TVL) across liquidity providers has shown a general\n   upwards trend, with significant growth during the Uniswap Incentive Phases.\n * Revert Finance drove a disproportionate share of total transactions, likely\n   due to its larger allocation and broader rewards compared to the Uniswap\n   liquidity managers.\n * The number of daily transacting addresses spiked at the beginning and end of\n   each program, indicating user behavior around reward periods. This could be\n   due to users exiting positions, users claiming rewards, or a combination of\n   both.\n * The impact on Uniswap swaps was relatively limited, suggesting that liquidity\n   incentives may temporarily affect LP rewards rather than sustainable\n   long-term impacts on protocol fees.\n * Timing, scale, customization, and length of incentive programs influence\n   their effectiveness.\n * The third phase of Uniswap’s liquidity mining program has shown increased\n   success, attributed to increased rewards and the involvement of liquidity\n   managers in pool selection.\n\n\nINTRODUCTION\n\nThe Optimism Collective has granted 127 projects with over 71 million OP\n[https://oplabs.notion.site/26d856d5ad7c4fda919c62e839cf6051?v=f0706e0827e54f66b95699d30dfbf301]\nacross the Governance Fund and Partner Fund. In its first year, the Collective\nmade great progress toward grant funding practices. However, one aspect that\nstill has room for improvement is the retrospective analysis of grants funded.\nWe believe that this analysis will be a method for the Collective to understand\nwhich funded projects are the most effective and provide insights for future\nprojects to use when thinking through their distribution method.\n\nOne method of incentivizing Uniswap V3 LP positions has been via liquidity\nmanagers, which Uniswap elected to do with their Phase 0 funding\n[https://gov.optimism.io/t/gf-phase-0-proposal-uniswap/2133]. Uniswap chose four\ndifferent liquidity managers to assist them in distributing 800,000 OP (80% of\ntheir funded amount) over three phases, beginning in November 2022. In addition\nto these liquidity managers, we’ll also cover Revert Finance, another liquidity\nmanager who received 240,000 OP\n[https://gov.optimism.io/t/ready-gf-phase-1-revert-finance-compoundor/3242] from\nthe Governance Fund, and launched its incentive program in November.\n\nWe’ve looked into the total value locked (TVL), daily transacting addresses, and\nthe number of daily transactions to analyze these incentives’ effectiveness.\nThese metrics were analyzed starting one month before the incentives until the\nfirst week in June.\n\n(Note: Phase 3 of the Uniswap Liquidity Mining campaign will conclude on July\n26th, 2023. Additionally, programs such as Arrakis and Gamma have received\nadditional funding via the Partner Fund\n[https://community.optimism.io/docs/governance/allocations/#partner-fund] and\nhave ongoing incentives. This analysis will be updated following the conclusion\nof the programs still ongoing at the time of posting.)\n\n\nINCENTIVE DESCRIPTION\n\nHow do OP incentives benefit Liquidity Managers?\nLiquidity managers enable depositors access to varying benefits, automation,\netc., when depositing their Uniswap V3 LP NFT. These protocols typically take a\nmanagement fee on positions. Thus, an increase in depositors increases the\nrevenue for the protocol.\n\nHow do OP incentives benefit Uniswap?\nFor depositors to farm rewards on these liquidity managers, they must first\nprovide liquidity on Uniswap. Uniswap benefits from the liquidity managers’\nincentives by increasing the protocol’s liquidity.\n\nHow do the incentives benefit the Optimism ecosystem?\nThe ecosystem benefits from increased liquidity offerings, leading to more\nstable markets, thus attracting more users and projects.\n\n\nINCENTIVES OVERVIEW\n\n\nDISTRIBUTION TIMELINE\n\nOptimism liquidity managers’ incentive programs are divided into two different\nallocations: Revert Compoundor and Uniswap V3, which redistributed 80% of its OP\nallocation to 4 different managers:\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/a/aab689beabc9101bcf5ba5c05a0b40eb133d10e3_2_690x387.jpeg]\n1600×897 412 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/a/aab689beabc9101bcf5ba5c05a0b40eb133d10e3.jpeg]\n\n\n\n\nTVL\n\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/5/57d6f132a7e067ed81194606e2ce1fc92604105d_2_690x388.jpeg]\n1600×900 446 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/5/57d6f132a7e067ed81194606e2ce1fc92604105d.jpeg]\n\nWhile Phase 1 experienced a sharp increase in TVL following the program’s start,\nit experienced a significant drop that appears to correlate with FTX collapse.\nOutside of this outlier, Phases 2 and 3 of the Uniswap Incentive Phases resulted\nin undeniable TVL growth from program onset, followed by a significant decrease\nin TVL in Phase 2. However, the total TVL across liquidity providers has\nincreased significantly across each phase, with a general upwards trend.\n\n\n\n\nTRANSACTIONS\n\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/f/f6f68ff660a220c0621e6b3adbd4ae5c0781e971_2_690x388.jpeg]\n1600×900 515 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/f/f6f68ff660a220c0621e6b3adbd4ae5c0781e971.jpeg]\n\nTransactions tell an interesting story, with Revert Finance driving a\ndisproportionate share of the total transactions across Phases 1 and 2 compared\nto its rivals. This could be driven by Revert’s relatively large allocation\n(60,000 OP) relative to the Uniswap allocation, which split 50,000 OP across\nthree protocols. This could also have to do with the nature of Revert’s program,\nwhich rewarded all Compounder deposits instead of a select number of pools.\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/a/ac9c21b41acb17a16b03fa0c293ff658afc5f7bd_2_690x388.jpeg]\n1600×900 462 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/a/ac9c21b41acb17a16b03fa0c293ff658afc5f7bd.jpeg]\n\nWhen comparing the sum of Uniswap liquidity manager’s transactions against\nRevert’s, we can reasonably conclude that Revert’s dominance most likely results\nfrom the increased OP rewards. Revert’s dominance begins to fade as Uniswap\nliquidity managers launch the second phase of their liquidity mining rewards\n[https://gov.uniswap.org/t/rfc-phase-2-optimism-uniswap-protocol-liquidity-mining-program/19803]\non January 18th. At the beginning of Uniswap’s second phase, Revert had already\nallocated 180,000 OP (75%), more than three times as much as Uniswap.\n\n\n\nRevert regained ground following the conclusion of Uniswap’s phase two but\ncouldn’t sustain these numbers following the protocol’s third round and\nsubsequent launch of Uniswap’s third round. Uniswap’s third round is expected to\nend July 26th, 2023.\n\n\nDAILY TRANSACTING ADDRESSES\n\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/a/a13f8998a8dab29fcb97dd70836cb321ff0e8254_2_690x388.jpeg]\n1600×900 509 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/a/a13f8998a8dab29fcb97dd70836cb321ff0e8254.jpeg]\n\nTransacting addresses give us a glimpse into how many users transact on the\nplatforms daily. The number of addresses transacting on the protocols appears to\nspike near the beginning and end of each program, signaling that users transact\n(deposit) at the beginning of the rewards and exit (withdraw) at the conclusion.\nAn increased reward duration could improve this.\n\n\n\nSince launching the incentive programs in November, 28,000 addresses have\ntransacted on the liquidity manager’s platforms. Arrakis is responsible for\n12,000 of these addresses, nearly double that of Revert (6,249) and Gamma\n(5,465). However, the period with the most transactions was when only Revert\nrewards were live (7,926). The period with only Uniswap rewards currently\naccounts for 6,174 total transacting addresses, with over a month left in the\nthird phase.\n\n\nFEES\n\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/c/ca105275766b9fae4503e11e531a3eb1a1f94e8f_2_690x388.jpeg]\n1600×900 489 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/c/ca105275766b9fae4503e11e531a3eb1a1f94e8f.jpeg]\n\nNetwork fees are a critical component of incentive funding, as the collective’s\npublic goods flywheel\n[https://optimism.mirror.xyz/oVnEz7LrfeOTC7H6xCXb5dMZ8Rc4dSkD2KfgG5W9cCw?test=1]\ncan only be sustained long-term by generating network fees.\n\n\n\nRevert Compoundor and native Uniswap V3 programs (Arrakis, Gamma, xToken,\nDefiEdge) generated 11.3 ETH since it began in November. Of the 11.3 ETH\ngenerated, 75% came while at least one program was live. Most of the remaining\n24.5% came after Revert’s third phase and between Uniswap’s phases two and\nthree. It’s worth noting that between Uniswap’s second and third phases, USDC\ndepeg impacted the overall market conditions and risk sentiment leading to less\nvolume and fees generated. However, the Uniswap liquidity mining program has\nresponded strongly in the third phase. This can be seen with network fees\ngenerated amongst the Uniswap liquidity managers, who have generated a total of\n3.6 ETH during live programs, of which 3.05 (85%) was generated during the third\nphase of incentives alone.\n\nOf the four native Uniswap liquidity managers, there’s been around 7.8 ETH\ngenerated in network fees since November, with Gamma and Arrakis representing\nover 83% of these fees (6.5 ETH). So far, Gamma has led all managers with around\n47.8% (3.7 ETH) in network fees generated, with Arrakis a close second at 36%\n(2.8 ETH). The remaining two managers have combined for 1.3 ETH, with DefiEdge\n(0.88 ETH) surprisingly leading xToken (0.43 ETH) by over 2x!\n\nRevert’s Compoundor generated 3.9 ETH in this same time frame, which still leads\nall managers for now.\n\n\nUNISWAP STATS\n\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/c/ca9f1406141fd86c410874c704ce7649765d1240_2_690x388.jpeg]\n1600×900 443 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/c/ca9f1406141fd86c410874c704ce7649765d1240.jpeg]\n\nUniswap liquidity providers earn fees upon swaps on the protocol. We’ve looked\nat the overall change in swaps during the program to measure impact. As with all\nprevious metrics, the spike in the first phase for both Revert and Uniswap is\nsomewhat attributed to the FTX scenario.\n\n\n\nWhile liquidity providers were incentivized, little was done to incentivize\nUniswap transactions. One speculation could be that the liquidity incentives\nincrease TVL and usage on liquidity manager platforms, but the incentivized\nliquidity could be under-utilized. Given what we’ve seen with most liquidity\nleaving at the conclusion of the program, the incentives can almost be seen as a\ntemporary increase in LP rewards.\n\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/0/00aa97baa54260eecad7c0136ca4ec0308d6b4b3_2_690x388.jpeg]\n1600×900 447 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/0/00aa97baa54260eecad7c0136ca4ec0308d6b4b3.jpeg]\n\nAs seen in the daily volume, the liquidity increases (TVL) do little to increase\nthe fees of the liquidity providers. Ideally, liquidity would increase with\nincentives, and trading fees would follow, making the OP rewards a temporary\nbuffer to increase liquidity until trading fees adjust and sustain incentives\nlong-term.\n\n[https://europe1.discourse-cdn.com/bc41dd/optimized/2X/2/2c9b935b879b0c7ad426bc294c3b5af239f37c51_2_690x388.jpeg]\n1600×900 450 KB\n[https://europe1.discourse-cdn.com/bc41dd/original/2X/2/2c9b935b879b0c7ad426bc294c3b5af239f37c51.jpeg]\n\nIf an increase in TVL minimally impacts both volume and revenue, an alternative\nincentive type, such as fee rebates, may be a more optimal solution. With fee\nrebates such as Synthetix (and, by extension, Kwenta and Polynomial), Uniswap\ncould incentivize LPs with the potential increase in protocol fees and traders\nwith a rebate on their fees paid. However, the question of whether this method\nwould be sustainable long-term remains.\n\n\n\n\nOBSERVATIONS\n\nThe availability of incentive data across five liquidity management protocols on\nUniswap offers a valuable opportunity to conduct cross-program analysis. Several\nkey insights emerge from this data:\n\n * Timing: The timing of a program and its execution is key. Broader market\n   conditions can deeply reduce the impact of the incentives, as seen in Phase 1\n   (post-FTX) and Revert Phase 3 (USDC depeg, US banking failures).\n * Scale: While it makes sense for a project to test and refine incentive\n   program parameters before allocating huge amounts, the Uniswap approach\n   (gradual and progressive allocations) makes more sense than the Revert one\n   (small, big, small allocations).\n * Customization: Revert offered incentives on all LP positions deposited, while\n   the Uniswap programs initially selected specific pools based on TVL.\n   Moreover, Uniswap let the community vote on what pool should be incentivized.\n   Moreover, Uniswap let the community vote\n   [https://snapshot.org/#/uniswap/proposal/0x8cd74072d4ae997c11fe5351c3a8c3fcd05440091858c1ced911bb2e9043c3bb]\n   on what pools should be incentivized.\n   * Selecting specific pools may limit the scope/impact of incentives, but\n     incentivizing every Uniswap pool across all fee tiers may be less practical\n     in different instances, such as LM vault strategies.\n * Length: Incentive programs that last only 2-3 weeks provide a very small\n   sample to digest, making it difficult to truly understand the program’s\n   impact. Additionally, various funding sources and overlapping programs make\n   pinpointing each program’s impact difficult.\n * Overall approach: The impact of incentive programs on TVL, fees generated,\n   transactions, and users is not guaranteed. It’s worth acknowledging the\n   iterative approach of the Uniswap program and the time between programs that\n   Uniswap took to conduct diligence on the program and adjust accordingly.\n\nThe availability of incentive data across five liquidity management protocols on\nUniswap offers a valuable opportunity to conduct cross-program analysis. Several\nkey insights emerge from this data, the first of which is the importance of\nhighlighting the larger crypto market’s influence on smaller datasets. The\naftermath of the FTX collapse impacted the initial wave of incentives provided\nby both Uniswap liquidity managers and Revert.\n\nFurthermore, the initial two phases of the Uniswap distribution were\ncomparatively smaller in scale when contrasted with the third phase. This could\nbe why Revert dominated most categories early on, despite having one of the\nlowest TVL among the programs. However, it’s also worth noting that Revert\noffered incentives on all LP positions deposited, while the Uniswap programs\ninitially selected specific pools based on TVL.\n\nThough still ongoing, the third phase of Uniswap’s liquidity mining program has\nalready seen great success compared to the first two. Several factors could\ncontribute to the third phase’s increased success, such as:\n\n * Increased rewards: over 80% of the 800,000 OP will be distributed in\n   Uniswap’s third phase.\n * Liquidity managers appear to choose the pools for phase three of the Uniswap\n   liquidity mining.\n   * Does this make the most sense?\n * Market Environment during phases one and two (FTX, Circle).\n\nFinally, it’s worth acknowledging the time between programs that Uniswap took to\nconduct diligence on the program and adjust accordingly. However, incentive\nprograms that last only 2-3 weeks provide a very small sample to digest, making\nit difficult to understand the program’s impact truly.\n\n\nRECOMMENDATIONS:\n\nA competitive approach to funding network incentives\nCurrently, projects apply for funding to fund incentives on their platforms, and\nthere’s no clear framework or process for deciding how much of one incentive\ntype or platform type should be funded. An alternative approach to funding\nincentives with the addition of competition amongst protocols could be an\ninteresting experiment.\n\nFor Example:\n\n * The Collective allocates 5 million OP to liquidity incentives per season.\n * This OP is divided amongst various incentive ‘types’ (e.g., vaults, LP\n   incentives, trading incentives).\n * A trial wave of 10% of the OP (similar to Uniswap phases 1 & 2) is conducted.\n   Projects compete for their future share of remaining OP rewards during this\n   time. The community &/or the grants council could establish the metrics to\n   determine program impact.\n * The remaining 90% of the OP is allocated to projects based on their results\n   in wave 1.\n\nIncreased rewards duration\nThe diligence was great on Uniswap’s behalf, but the program duration that\nUniswap was analyzing provided a very small sample. Longer programs could enable\nthe community (both Uniswap and Optimism) to conduct a more thorough evaluation.\n\n\nCLOSING REMARKS\n\nWe hope that this analysis provides value to future funding decisions, and would\nlove to hear how it could be iterated upon for future analysis!\n\nWe will update the post following the conclusion of Uniswap’s third phase. At\nthat point, we’ll look into retention metrics, pool-level comparisons, etc.\n\n\nSOURCES\n\n * OP Analytics Repo [https://github.com/ethereum-optimism/op-analytics]\n   * Incentive Stats Summary\n     [https://github.com/raho11/op-analytics/blob/main/op_rewards_tracking/csv_outputs/incentives_stats_summary.csv]\n   * Incentive Program Performance Summary - Dune @oplabspbc\n     [https://dune.com/oplabspbc/optimism-incentive-program-usage-summary]\n   * Optimism - Project Usage and Growth Trends\n     [https://dune.com/optimismfnd/Optimism-Project-Usage-Trends]\n   * https://twitter.com/UniswapFND/status/1585289526179667970\n     [https://twitter.com/UniswapFND/status/1585289526179667970]\n   * Optimism ($OP) Liquidity Mining Pool is LIVE on xToken Terminal! | by Ben\n     J. | xToken | Medium\n     [https://medium.com/xtoken/optimism-op-liquidity-mining-pool-is-live-on-xtoken-terminal-7d69a1932656]\n * https://defillama.com/chain/Optimism [https://defillama.com/chain/Optimism]\n\n\nADDITIONAL RESOURCES\n\n * Uniswap LM Program Analysis (multiple bounty submissions)\n   [https://uniswap.notion.site/Bounty-20-Optimism-Liquidity-Mining-program-546d123fa03049fba4b0b8cd38781117]\n * Gauntlet’s Uniswap Liquidity Mining Analysis\n   [https://medium.com/gauntlet-networks/uniswap-liquidity-mining-analysis-14c739c54a9d]",
  "views": 1819,
  "like_count": 21,
  "word_count": 3133,
  "answer": [
    {
      "content": "Really great to to have the community leveraging the open-source stack that we\noffered in OP Analytics [https://github.com/ethereum-optimism/op-analytics] and\nproviding deep dives of Uniswap and the liquidity managers! Here’s actually the\nissue [https://github.com/ethereum-optimism/op-analytics/issues/133] I created\non Github for this topic and feel free to assign yourself to this as well.",
      "created_at": "2023-06-22T20:29:31.878Z",
      "trust_level": 2,
      "username": "chuxin_h",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 5
    },
    {
      "content": "This is awesome! Super in-depth on a theme, and covers a lot of the nuance of\nvarious programs. I think this is must read for anyone working on\nrewards/growth/incentive programs.\n\nI’ll do a later reply with thoughts on the insights provided, but I’d also\nencourage others to explore similar analyses if they’re interested! We posted\nsome ideas in GitHub issues here\n[https://github.com/ethereum-optimism/op-analytics/issues] for inspiration.",
      "created_at": "2023-06-22T19:37:27.106Z",
      "trust_level": 2,
      "username": "MSilb7",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 2
    },
    {
      "content": "\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/raho/48/5314_2.png]\nraho:\n\n> As seen in the daily volume, the liquidity increases (TVL) do little to\n> increase the fees of the liquidity providers. Ideally, liquidity would\n> increase with incentives, and trading fees would follow, making the OP rewards\n> a temporary buffer to increase liquidity until trading fees adjust and sustain\n> incentives long-term.\n\nFrom observing DEX LP programs, I think this is the biggest takeaway & gap to\nsolve for in future programs and designs.\n\nFor LPs to “stick,” I imagine that earnings from fees would need to overtake\nrewards. i.e. if 90% of an LP’s earnings come from rewards, and then rewards go\naway, their earnings get cut by 90%, so it makes logical sense to go elsewhere.\nBut if 10% of earnings are from rewards, then rewards end, there’s likely not be\nas much of an incentive to go elsewhere.\n\nTrading rewards are tricky (i.e. inorganic wash trading opportunity), but I’d\nlove to see some thoughts/ideas on how a DEX growth program can bootstrap both\nliquidity and fee-generating activity.\n\nI work at OP Labs, but thoughts are my own",
      "created_at": "2023-06-23T17:08:07.641Z",
      "trust_level": 2,
      "username": "MSilb7",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 2
    },
    {
      "content": "\n[https://dub1.discourse-cdn.com/bc41dd/user_avatar/gov.optimism.io/raho/48/5314_2.png]\nraho:\n\n> Hey @mjc716 [/u/mjc716], we used the queries provided by OP Labs here\n> [https://dune.com/queries/451986/2964487].\n\nBuilding on this - the current logic here is to attribute fees when the\nproject’s contracts were the “to address” of a transaction.\n\nI’ve been thinking about other attribution strategies using transaction traces,\nlike “attribute by the share of total L2 gas used in transaction execution”, or\njust count “any transaction where the project’s contracts were called”. Open to\nthoughts/opinions here as well.",
      "created_at": "2023-06-29T19:29:27.479Z",
      "trust_level": 2,
      "username": "MSilb7",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 1
    },
    {
      "content": "Hey @mjc716 [/u/mjc716], we used the queries provided by OP Labs here\n[https://dune.com/queries/451986/2964487].",
      "created_at": "2023-06-29T17:51:23.113Z",
      "trust_level": 2,
      "username": "raho",
      "admin": false,
      "moderator": false,
      "staff": false,
      "like_count": 0
    }
  ],
  "created_at": "2023-06-22T19:15:29.366Z"
}